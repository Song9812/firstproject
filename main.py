import streamlit as st

# MBTI 유형별 성격 요약
mbti_traits = {
    "INTJ": "전략적이고 분석적인 성향으로 깊은 대화와 아이디어 공유를 선호합니다.",
    "INTP": "논리적이고 호기심 많은 성격으로, 새로운 이론과 개념을 탐구하는 것을 좋아합니다.",
    "ENTJ": "리더십이 강하고 목표 지향적이며, 효율성과 계획에 관심이 많습니다.",
    "ENTP": "창의적이고 토론을 즐기며, 다양한 아이디어에 열려 있는 편입니다.",
    "INFJ": "이상주의적이며 공감 능력이 뛰어나고, 의미 있는 관계와 대화를 선호합니다.",
    "INFP": "감성적이고 상상력이 풍부하며, 자신의 가치와 감정을 표현하는 것을 좋아합니다.",
    "ENFJ": "사람 중심적이며 타인의 감정에 민감하고, 진심 어린 교감을 중요시합니다.",
    "ENFP": "열정적이고 자유로운 사고를 지닌 사람으로, 새로운 것에 대한 호기심이 많습니다.",
    "ISTJ": "책임감 있고 실용적인 사고를 지닌 성격으로, 체계적인 대화를 선호합니다.",
    "ISFJ": "조용하지만 따뜻하고 헌신적인 성향으로, 배려 깊은 대화를 좋아합니다.",
    "ESTJ": "단호하고 현실적인 성격으로, 명확하고 논리적인 대화를 선호합니다.",
    "ESFJ": "사교적이며 배려심이 강하고, 감정적 연결과 조화를 중요하게 여깁니다.",
    "ISTP": "객관적이고 침착하며, 분석적 사고와 실용적 주제를 선호합니다.",
    "ISFP": "감성적이고 조용한 성향이며, 예술적이거나 자연과 관련된 대화를 좋아합니다.",
    "ESTP": "즉흥적이고 에너제틱한 성격으로, 액티브하고 생생한 대화를 즐깁니다.",
    "ESFP": "유쾌하고 외향적인 성격으로, 즐겁고 감각적인 대화를 좋아합니다."
}

# MBTI별 대화 주제와 추천 이유
mbti_topics = {
    "INTJ": [
        ("미래 기술", "미래를 설계하는 데 관심이 많기 때문입니다."),
        ("전략 게임", "복잡한 사고를 자극하는 활동을 선호해서입니다."),
        ("자기계발", "목표 지향적인 성격과 잘 맞기 때문입니다."),
        ("사회 구조 변화", "큰 그림을 보는 능력과 관련된 주제입니다."),
        ("철학적 대화", "깊고 의미 있는 주제를 좋아하기 때문입니다.")
    ],
    "INTP": [
        ("이론적 가설", "논리적인 사고를 자극하기에 적합합니다."),
        ("SF 영화의 과학 설정", "과학적 호기심을 자극하기 좋습니다."),
        ("현실의 미스터리", "탐구심을 만족시킬 수 있습니다."),
        ("철학 이야기", "추상적인 사고를 즐기기 때문입니다."),
        ("새로운 기술 트렌드", "지적 호기심이 많아서입니다.")
    ],
    "ENTJ": [
        ("리더십 경험", "리더로서의 사고를 공유할 수 있습니다."),
        ("비즈니스 전략", "전략적 사고에 적합한 주제입니다."),
        ("목표 설정", "효율성과 생산성을 중시하기 때문입니다."),
        ("성과 분석", "객관적인 데이터에 기반한 대화를 선호합니다."),
        ("경쟁 이야기", "도전과 결과 중심적인 사고와 맞닿아 있습니다.")
    ],
    "ENTP": [
        ("재미있는 아이디어", "창의적인 대화를 좋아하기 때문입니다."),
        ("토론거리", "논쟁을 즐기고 견해 교환을 좋아합니다."),
        ("유행하는 트렌드", "새로운 것에 항상 호기심을 가집니다."),
        ("발명품 상상하기", "상상력을 자극하는 주제입니다."),
        ("이상한 질문", "엉뚱한 주제를 즐겁게 받아들이기 때문입니다.")
    ],
    "INFJ": [
        ("인생의 의미", "깊이 있는 내면의 대화를 선호합니다."),
        ("심리학", "사람의 마음과 동기에 관심이 많습니다."),
        ("사회 변화", "가치와 이상에 대한 관심이 많기 때문입니다."),
        ("문학과 예술", "감정적 통찰이 풍부해서입니다."),
        ("도움이 되었던 경험", "타인과의 연결을 중시하기 때문입니다.")
    ],
    "INFP": [
        ("감동적인 영화", "감성적이고 이야기 중심의 대화를 좋아합니다."),
        ("자기 꿈 이야기", "이상과 가치를 나누는 데 관심이 많습니다."),
        ("어릴 적 추억", "감정에 연결된 기억을 소중히 여깁니다."),
        ("사랑과 관계", "깊이 있는 감정 교류를 선호합니다."),
        ("예술과 창작", "상상력과 창의력을 표현할 수 있습니다.")
    ],
    "ENFJ": [
        ("사람들과의 관계", "대인관계에 관심이 많습니다."),
        ("감정 표현 방법", "공감 능력이 뛰어나기 때문입니다."),
        ("리더로서의 경험", "타인을 도와주는 걸 좋아합니다."),
        ("영감을 주는 이야기", "동기 부여와 긍정적인 에너지를 중요시합니다."),
        ("협업 경험", "팀워크를 중요하게 생각합니다.")
    ],
    "ENFP": [
        ("여행 이야기", "새로운 경험을 공유하는 것을 즐깁니다."),
        ("창의적인 아이디어", "상상력이 풍부해서입니다."),
        ("감동적인 순간", "감정을 나누는 대화를 좋아합니다."),
        ("꿈과 비전", "미래를 긍정적으로 바라보며 이야기하길 좋아합니다."),
        ("유쾌한 실수담", "분위기를 즐겁게 만드는 데 능숙하기 때문입니다.")
    ],
    "ISTJ": [
        ("업무 효율", "실용적이고 구체적인 대화를 선호합니다."),
        ("재무 관리", "현실적이고 계획적인 성향 때문입니다."),
        ("규칙과 절차", "체계적인 사고방식을 가졌습니다."),
        ("역사 이야기", "과거에서 교훈을 찾는 것을 좋아합니다."),
        ("루틴과 습관", "안정성과 일관성을 중시합니다.")
    ],
    "ISFJ": [
        ("도움이 된 사람", "타인을 소중히 여기는 성향입니다."),
        ("가족 이야기", "친밀한 관계를 중시합니다."),
        ("추억 나누기", "감성적인 교류를 좋아합니다."),
        ("배려 경험", "다정한 성격과 맞닿아 있습니다."),
        ("의미 있는 일상", "작은 행복을 중요하게 생각합니다.")
    ],
    "ESTJ": [
        ("목표 달성 이야기", "계획성과 실행력을 중시합니다."),
        ("조직 운영", "리더십과 책임감이 강하기 때문입니다."),
        ("논리적 해결", "사실 기반의 대화를 선호합니다."),
        ("정책과 제도", "사회 구조와 규범에 관심이 많습니다."),
        ("시간 관리", "실용적 효율성을 중요시합니다.")
    ],
    "ESFJ": [
        ("주변 사람 이야기", "사람과 감정에 관심이 많습니다."),
        ("이벤트 계획", "사교적인 성향과 잘 맞습니다."),
        ("최근 드라마", "공감대 형성에 효과적입니다."),
        ("따뜻한 일화", "감정적으로 연결되기를 원합니다."),
        ("감사했던 순간", "관계를 소중히 여깁니다.")
    ],
    "ISTP": [
        ("자동차, 기계 이야기", "기술적이고 실용적인 대화를 선호합니다."),
        ("DIY 프로젝트", "혼자 몰두하는 활동을 좋아합니다."),
        ("스포츠 기술 분석", "객관적인 분석을 즐깁니다."),
        ("문제 해결 사례", "효율적인 접근을 중요하게 여깁니다."),
        ("간단한 유머", "말수는 적지만 재치 있는 응답을 좋아합니다.")
    ],
    "ISFP": [
        ("풍경 사진 이야기", "자연과 감성을 중요시합니다."),
        ("감성적인 음악", "정서적인 교류를 좋아합니다."),
        ("일상의 소소한 기쁨", "조용한 즐거움을 중요하게 여깁니다."),
        ("예술 취미 공유", "창의적인 활동을 선호합니다."),
        ("따뜻한 말 나누기", "감정 기반의 연결을 선호합니다.")
    ],
    "ESTP": [
        ("실제 경험담", "즉흥적이고 현실적인 대화를 좋아합니다."),
        ("도전 이야기", "액티브한 성향을 반영합니다."),
        ("재밌는 스포츠 토크", "에너지 넘치는 대화를 즐깁니다."),
        ("위기 대처 경험", "즉각적인 판단을 중시합니다."),
        ("유쾌한 농담", "사람들과 잘 어울리는 성향입니다.")
    ],
    "ESFP": [
        ("재미있는 모임 이야기", "사교적이고 활기찬 대화를 선호합니다."),
        ("패션과 스타일", "감각적인 주제를 좋아합니다."),
        ("노래방이나 공연", "감정 표현을 즐깁니다."),
        ("SNS 트렌드", "현재에 집중하는 성향입니다."),
        ("유쾌한 장난", "사람들과의 즐거운 교류를 선호합니다.")
    ]
}

# MBTI별 말투/접근 방식 팁
mbti_tips = {
    "INTJ": "논리적으로 정리된 말투와 깊은 주제를 선호합니다. 감정에 너무 치우치지 않도록 주의하세요.",
    "INTP": "추상적인 질문이나 아이디어 교환을 통해 대화를 이끌어 보세요. 단순한 일상보다는 논리적 주제를 좋아합니다.",
    "ENTJ": "목표 중심적인 대화를 좋아하며, 직접적이고 효율적인 말투에 반응이 좋습니다.",
    "ENTP": "적극적인 리액션과 반박도 환영합니다. 다양한 주제를 넘나드는 걸 즐깁니다.",
    "INFJ": "공감과 배려가 중요하며, 격려와 따뜻한 말이 효과적입니다.",
    "INFP": "감정을 존중해주며 진정성을 가지고 다가가세요. 공감형 피드백이 좋습니다.",
    "ENFJ": "마음을 따뜻하게 해주는 말과 칭찬이 효과적입니다. 경청해주면 신뢰가 깊어집니다.",
    "ENFP": "열정적으로 반응해주고, 유쾌한 리액션이 중요합니다. 창의적인 말투가 잘 통합니다.",
    "ISTJ": "체계적이고 신중한 접근을 선호합니다. 너무 과장되거나 추상적인 표현은 피하세요.",
    "ISFJ": "차분하고 따뜻한 말투를 좋아합니다. 상대방을 배려하는 태도가 중요합니다.",
    "ESTJ": "논리적이고 직접적인 의사 표현을 선호하며, 장황한 설명보다 핵심 전달이 좋습니다.",
    "ESFJ": "감정을 나누며 반응을 자주 보여주는 게 좋습니다. 배려와 관심 표현이 중요합니다.",
    "ISTP": "말이 많기보단 실용적이고 간단한 말투를 선호합니다. 직접적인 예시가 효과적입니다.",
    "ISFP": "부드럽고 섬세한 말투가 어울리며, 감정 표현에 공감해주세요.",
    "ESTP": "재치 있고 에너지 넘치는 대화가 효과적입니다. 유머를 곁들이면 좋습니다.",
    "ESFP": "화려하고 감각적인 표현에 잘 반응하며, 즉흥적인 리액션도 좋아합니다."
}

# Streamlit 앱 UI
st.title("💬 MBTI 대화 주제 & 성격 가이드")

selected_mbti = st.selectbox("상대방의 MBTI를 선택하세요:", list(mbti_traits.keys()))

if selected_mbti:
    st.subheader(f"🧠 {selected_mbti} 성격 요약")
    st.write(mbti_traits[selected_mbti])

    st.subheader(f"🗣️ {selected_mbti}와 대화할 주제와 추천 이유")
    for i, (topic, reason) in enumerate(mbti_topics[selected_mbti], 1):
        st.markdown(f"**{i}. {topic}**  \n_→ {reason}_")

    st.subheader(f"💡 대화 팁")
    st.write(mbti_tips[selected_mbti])
