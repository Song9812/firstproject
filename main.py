import streamlit as st

st.set_page_config(page_title="MBTI 대화 가이드", layout="centered")

st.title("💬 MBTI 대화 주제 추천기")
st.write("MBTI를 선택하면 해당 유형과 대화하기 좋은 주제와 추천 이유, 그리고 어울리는 VS놀이 주제를 볼 수 있어요!")

mbti_list = [
    "INTJ", "INTP", "ENTJ", "ENTP",
    "INFJ", "INFP", "ENFJ", "ENFP",
    "ISTJ", "ISFJ", "ESTJ", "ESFJ",
    "ISTP", "ISFP", "ESTP", "ESFP"
]

mbti_traits = {
    "INTJ": "전략적이고 분석적인 성향으로 깊은 대화와 아이디어 공유를 선호합니다.",
    "INTP": "논리적이고 호기심 많은 성격으로, 새로운 이론과 개념을 탐구하는 것을 좋아합니다.",
    "ENTJ": "리더십이 강하고 목표 지향적이며, 효율성과 계획에 관심이 많습니다.",
    "ENTP": "창의적이고 토론을 즐기며, 다양한 아이디어에 열려 있는 편입니다.",
    "INFJ": "이상주의적이며 공감 능력이 뛰어나고, 의미 있는 관계와 대화를 선호합니다.",
    "INFP": "감성적이고 상상력이 풍부하며, 자신의 가치와 감정을 표현하는 것을 좋아합니다.",
    "ENFJ": "사람 중심적이며 타인의 감정에 민감하고, 진심 어린 교감을 중요시합니다.",
    "ENFP": "열정적이고 자유로운 사고를 지닌 사람으로, 새로운 것에 대한 호기심이 많습니다.",
    "ISTJ": "책임감 있고 실용적인 사고를 지닌 성격으로, 체계적인 대화를 선호합니다.",
    "ISFJ": "조용하지만 따뜻하고 헌신적인 성향으로, 배려 깊은 대화를 좋아합니다.",
    "ESTJ": "단호하고 현실적인 성격으로, 명확하고 논리적인 대화를 선호합니다.",
    "ESFJ": "사교적이며 배려심이 강하고, 감정적 연결과 조화를 중요하게 여깁니다.",
    "ISTP": "객관적이고 침착하며, 분석적 사고와 실용적 주제를 선호합니다.",
    "ISFP": "감성적이고 조용한 성향이며, 예술적이거나 자연과 관련된 대화를 좋아합니다.",
    "ESTP": "즉흥적이고 에너제틱한 성격으로, 액티브하고 생생한 대화를 즐깁니다.",
    "ESFP": "유쾌하고 외향적인 성격으로, 즐겁고 감각적인 대화를 좋아합니다."
}

mbti_topics_with_reasons = {
    "INTJ": [
        ("미래 기술", "전략적 사고를 좋아하므로 미래에 대한 전망을 이야기하면 흥미로워합니다."),
        ("자기계발", "목표 지향적인 성격으로 자기 성장에 대한 이야기를 선호합니다."),
        ("사회 구조 변화", "시스템에 대한 개선을 고민하는 성향이 있어 의견 나누기를 좋아합니다."),
        ("철학적 대화", "깊이 있는 사고를 즐기므로 철학이나 윤리적 주제를 선호합니다."),
        ("전략 게임", "복잡한 규칙과 계획이 필요한 활동을 좋아합니다.")
    ],
    "INTP": [
        ("과학적 발견", "호기심이 많고 분석적이라 새로운 발견에 관심이 많습니다."),
        ("이론적 질문", "추상적인 개념이나 가설을 다루는 대화를 즐깁니다."),
        ("시스템 설계", "복잡한 구조나 원리를 분석하는 것을 좋아합니다."),
        ("패턴 분석", "정보 속에서 규칙을 찾는 것을 즐깁니다."),
        ("논리 퀴즈", "재미있게 사고력을 시험할 수 있는 주제입니다.")
    ],
    "ENTJ": [
        ("비즈니스 아이디어", "사업과 성과에 대한 이야기를 즐깁니다."),
        ("목표 설정", "계획을 세우고 추진하는 것을 좋아합니다."),
        ("리더십 이론", "조직을 이끄는 방식에 대한 대화에 관심이 많습니다."),
        ("생산성 방법", "효율을 중시하는 성향이 있습니다."),
        ("정치 토론", "의사결정 구조와 시스템 변화에 관심이 많습니다.")
    ],
    "ENTP": [
        ("창의적 발상", "새로운 아이디어를 자유롭게 나누는 것을 즐깁니다."),
        ("즉흥 연기", "상상력과 유머가 필요한 활동에 강합니다."),
        ("가상 시나리오", "가정을 기반으로 한 대화를 좋아합니다."),
        ("미래 상상", "상상력과 비전을 공유하는 것을 좋아합니다."),
        ("유쾌한 토론", "토론을 통해 생각을 확장하기를 즐깁니다.")
    ],
    "INFJ": [
        ("인생 의미", "깊은 감성과 철학적 주제에 끌립니다."),
        ("심리학 이야기", "사람의 내면에 관심이 많습니다."),
        ("도움 줄 수 있는 일", "타인을 위한 행동에서 가치와 의미를 찾습니다."),
        ("사회 정의", "세상의 문제를 진지하게 생각하고 해결책을 고민합니다."),
        ("감정 공유", "공감하는 대화를 좋아합니다.")
    ],
    "INFP": [
        ("감동적인 영화", "감정을 자극하는 콘텐츠를 좋아합니다."),
        ("자기 꿈 이야기", "개인의 가치와 이상을 이야기하는 것을 좋아합니다."),
        ("어릴 적 추억", "감성적인 기억을 소중히 여깁니다."),
        ("사랑과 관계", "사람 간의 진실한 관계에 집중합니다."),
        ("예술과 창작", "자신만의 감성을 표현하는 활동을 좋아합니다.")
    ],
    "ENFJ": [
        ("사람 이야기", "타인과의 관계, 성장 이야기에 관심이 많습니다."),
        ("공감과 격려", "진심이 담긴 감정 표현을 중요하게 여깁니다."),
        ("심리적 연결", "감정적 소통에서 의미를 찾습니다."),
        ("긍정적인 변화", "타인을 위한 조언과 응원을 아끼지 않습니다."),
        ("사회적 책임", "세상에 긍정적인 영향을 주는 것을 중요하게 생각합니다.")
    ],
    "ENFP": [
        ("여행 이야기", "새로운 경험과 자극을 좋아합니다."),
        ("새로운 취미", "다양한 관심사를 공유하는 것을 즐깁니다."),
        ("인생 도전기", "자유롭고 도전적인 삶을 지향합니다."),
        ("다양한 문화", "다름과 다양성에 관심이 많습니다."),
        ("창의적 상상", "상상력을 발휘할 수 있는 주제를 좋아합니다.")
    ],
    "ISTJ": [
        ("일상 루틴", "규칙적이고 안정적인 것을 선호합니다."),
        ("계획 세우기", "사전에 준비하고 조직하는 것을 좋아합니다."),
        ("일 처리 방식", "효율적이고 현실적인 접근을 선호합니다."),
        ("전통 가치", "오랜 가치나 규범을 중요하게 생각합니다."),
        ("정리정돈 방법", "체계적인 시스템을 선호합니다.")
    ],
    "ISFJ": [
        ("가족 이야기", "가까운 사람들과의 관계를 소중히 여깁니다."),
        ("도움이 되었던 경험", "봉사나 배려에 관심이 많습니다."),
        ("추억 이야기", "정서적인 연결을 느끼는 주제를 선호합니다."),
        ("감사한 일", "따뜻한 감정 표현을 좋아합니다."),
        ("정리 노하우", "정리정돈과 실생활 팁을 공유하는 것을 좋아합니다.")
    ],
    "ESTJ": [
        ("사회 규칙", "체계와 규율을 중시합니다."),
        ("일하는 방식", "현실적이고 실용적인 대화를 선호합니다."),
        ("조직 이야기", "구조적인 시스템에 관심이 많습니다."),
        ("결정 내리는 법", "논리적 판단을 중시합니다."),
        ("현실적인 조언", "실질적인 도움을 주는 것을 좋아합니다.")
    ],
    "ESFJ": [
        ("친구 관계", "인간관계와 조화에 관심이 많습니다."),
        ("감정 나누기", "감정을 공유하는 대화를 선호합니다."),
        ("행사 준비", "타인을 위한 활동을 좋아합니다."),
        ("배려 경험", "다정함과 친절을 중요시합니다."),
        ("공동체 이야기", "협력과 관계 형성에 관심이 많습니다.")
    ],
    "ISTP": [
        ("기계나 도구", "실용적이고 기술적인 주제를 좋아합니다."),
        ("논리적 문제", "객관적인 분석을 즐깁니다."),
        ("재미있는 실험", "실험적이고 사실적인 활동을 선호합니다."),
        ("분석 토론", "논리 기반의 주제를 좋아합니다."),
        ("생산성 팁", "현실적인 방법을 추구합니다.")
    ],
    "ISFP": [
        ("자연 이야기", "감각적이고 조용한 자연 환경을 좋아합니다."),
        ("감성적 음악", "감정을 표현하는 예술적 취향을 가지고 있습니다."),
        ("예술 창작", "개인적 감정을 표현하는 활동을 선호합니다."),
        ("개인 공간", "혼자만의 시간과 공간을 중요하게 여깁니다."),
        ("감정 표현", "섬세한 감정 공유를 선호합니다.")
    ],
    "ESTP": [
        ("스포츠 경기", "에너지 넘치고 활동적인 주제를 좋아합니다."),
        ("즉흥 활동", "계획보단 즉흥적이고 재밌는 것을 선호합니다."),
        ("현장 체험", "몸으로 느끼는 경험을 중요하게 생각합니다."),
        ("기억에 남는 사건", "자극적인 경험을 좋아합니다."),
        ("유머 이야기", "웃기고 즐거운 대화를 선호합니다.")
    ],
    "ESFP": [
        ("공연 경험", "감각적이고 즐거운 활동을 좋아합니다."),
        ("맛집 추천", "다양한 감각적 경험을 선호합니다."),
        ("즐거운 추억", "긍정적인 에너지를 공유하는 것을 좋아합니다."),
        ("웃긴 이야기", "웃음과 함께하는 대화를 좋아합니다."),
        ("음악과 춤", "감각적 즐거움을 중시합니다.")
    ]
}

mbti_vs = {
    "INTJ": "논리 vs 직관",
    "INTP": "질문하기 vs 답변하기",
    "ENTJ": "팀 리더 vs 전략가",
    "ENTP": "즉흥연기 vs 즉흥 토론",
    "INFJ": "운명 vs 우연",
    "INFP": "현실 사랑 vs 이상적 사랑",
    "ENFJ": "진심 vs 센스",
    "ENFP": "하고 싶은 일 vs 잘하는 일",
    "ISTJ": "루틴 있는 삶 vs 자유로운 삶",
    "ISFJ": "기억에 남는 일기 vs 사진",
    "ESTJ": "결과 중심 vs 과정 중심",
    "ESFJ": "단체활동 vs 1:1 대화",
    "ISTP": "논리 vs 감성",
    "ISFP": "느림의 미학 vs 빠른 효율",
    "ESTP": "계획적 여행 vs 즉흥 여행",
    "ESFP": "노래방 vs 콘서트"
}

if "selected_mbti" not in st.session_state:
    st.session_state.selected_mbti = None

cols = st.columns(4)
for i, mbti in enumerate(mbti_list):
    if cols[i % 4].button(mbti):
        st.session_state.selected_mbti = mbti

if st.session_state.selected_mbti:
    mbti = st.session_state.selected_mbti
    st.markdown(f"## 🧠 {mbti} 성격 요약")
    st.info(mbti_traits[mbti])

    st.markdown("### 🗣️ 대화에 어울리는 주제와 이유")
    for topic, reason in mbti_topics_with_reasons[mbti]:
        st.markdown(f"**{topic}**: {reason}")

    st.markdown("### ⚖️ 어울리는 VS놀이 주제")
    st.success(mbti_vs[mbti])
